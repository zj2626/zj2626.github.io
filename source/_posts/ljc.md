---
title: 数据库连接池作用(转载)

comments: true    

tags: 
    - 

categories: 
    - 数据库连接池

description: 

date: 2017-02-12
   
---

连接池的作用就是为了提高性能。

       连接池的作用：连接池是将已经创建好的连接保存在池中，
			 当有请求来时，直接使用已经创建好的连接对数据库进行访问。
			 这样省略了创建连接和销毁连接的过程。这样性能上得到了提高。
			 
			 
<!--more-->

基本原理是这样的：

（1）建立数据库连接池对象（服务器启动）。

（2）按照事先指定的参数创建初始数量的数据库连接（即：空闲连接数）。

（3）对于一个数据库访问请求，直接从连接池中得到一个连接。如果数据库连接池对象中没有空闲的连接，且连接数没有达到最大（即：最大活跃连接数），创建一个新的数据库连接。

（4）存取数据库。

（5）关闭数据库，释放所有数据库连接（此时的关闭数据库连接，并非真正关闭，而是将其放入空闲队列中。如实际空闲连接数大于初始空闲连接数则释放连接）。

（6）释放数据库连接池对象（服务器停止、维护期间，释放数据库连接池对象，并释放所有连接）。

---

1 .连接池的概念和为什么要使用连接池？

    连接池放了N个Connection对象，本质上放在内存当中，在内存中划出一块缓存对象，
		应用程序每次从池里获得Connection对象，而不是直接从数据里获得，这样不占用服务器的内存资源。
		
2 .如果不使用连接池会出现的情况：

	a.占用服务器的内存资源
	 b.导致服务器的速度非常慢

3 .应用连接池的三种方式：

	a.自定义连接池
	b.使用第三方连接池
	c.使用服务器自带的连接池
	
	
	
---
连接池一般比直接连接更有优越性,因为它提高了性能的同时还保存了宝贵的资源。在整个应用程序的使用过程,当中重复的打开直接连接将导致性能的下降。而池连接只在服务器启动时打开一次，从而消除了这种性能问题。

连接池主要考虑的是性能，每次获取连接和释放连接都有很大的工作量，会对性能有很大影响；而对资源来说起的是反作用，因为保存一定数量的连接是要消耗内存的。应用程序每次从池里获得Connection对象，而不是直接从数据里获得，这样不占用服务器的内存资源。所以一般要建立连接池，而连接的数量要适当，不能太大，太大会过多消耗资源。(所以，考虑2个方面，一个是内存，另一个是资源)。

连接池就是为了避免重复多次的打开数据库连接而造成的性能的下降和系统资源的浪费。